<lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE-edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cửa Hàng Sữa</title>
    <link rel="stylesheet" href="/css/giaodienbase.css">
    <link rel="stylesheet" href="/css/giaodienmain.css">
    <link rel="stylesheet" href="/css/cart-item.css">
    <link rel="stylesheet" href="/font/fontawesome-free-6.4.0-web/css/all.css">
    <link rel="stylesnameheet" href="/font/themify-icons-font (1)/themify-icons/themify-icons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
</head>
<body>
    <div class="app">
        <header class="header">
            <div class="grid">
                <nav class="header_nav ">
                    <ul class="header_nav-list ">
                        <li class="header_nav-item header_nav-item-hasQR header_nav-item-separate"> Vào Cửa Hàng Quán Sữa
                            <!-- <div class="header_nav-QR">
                               <img src="/img/img/QR_code.png" alt="QR_code" class="header_nav-img">
                               <div class="header_nav-QR-apps">
                                <a href="" class="header_nav-QR-link">
                                    <img src="/img/img/GooglePlay.png "alt="Google Play" class="header_nav-QR-dow-img">
                                </a>
                                <a href="" class="header_nav-QR-link"> 
                                    <img src="/img/img/Appstore.png" alt="App Store" class="header_nav-QR-dow-img">
                                </a>
                               </div>
                            </div> -->
                        </li>
                        <li class="header_nav-item"> 
                            <span class="header_nav_item-nopointer">Kết Nối</span> 
                            <a href="https://www.facebook.com/gavl2k3" class="header_nav-icon">
                                <!-- <i class="header_nav-icon-link ti-facebook"></i> -->
                                <i class="fa-brands fa-facebook header_nav-icon-link"></i>
                            </a>
                            <a href="https://www.instagram.com/anhhnfe_108/?theme=dark" class="header_nav-icon">
                                <!-- <i class="header_nav-icon-link ti-instagram"></i> -->
                                <i class="fa-brands fa-instagram header_nav-icon-link"></i>
                            </a>
                        </li>
                    </ul>
                    <ul class="header_nav-list ">
                        <li class="header_nav-item">
                            <a href="" class="header_nav-item-list">
                            <a href="" class="header_nav-icon"></a>
                                <i class="header_nav-icon-link ti-bell"></i>
                             Thông Báo
                            </a>
                            <div class="header_notify">
                                <header class="header_notify-header">
                                    <h3> Thông Báo Mới Nhận</h3>
                                </header>
                                <div class="header_notify-list">
                                    <div class="header_notify-item">
                                        <a href="" class="header_notify-link">
                                            <span>
                                                <img src="/img/ensure.webp" alt="" class="header_notify-img">
                                            </span>
                                            <div class="header_notify-info">
                                                <p class="header_notify-name">
                                                    Tặng ngay 1 lon khi mua 3 lon
                                                </p>
                                                <p class="header_notify-descriotion">
                                                    Khuyến Mãi Siêu Hot
                                                </p>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                                <div class="header_notify-list">
                                    <div class="header_notify-item">
                                        <a href="" class="header_notify-link">
                                            <span>
                                                <img src="/img/ensure.webp" alt="" class="header_notify-img">
                                            </span>
                                            <div class="header_notify-info">
                                                <p class="header_notify-name">
                                                    Tặng ngay 1 lon khi mua 3 lon
                                                </p>
                                                <p class="header_notify-descriotion">
                                                    Khuyến Mãi Siêu Hot
                                                </p>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                                <div class="header_notify-list">
                                    <div class="header_notify-item">
                                        <a href="" class="header_notify-link">
                                            <span>
                                                <img src="/img/ensure.webp" alt="" class="header_notify-img">
                                            </span>
                                            <div class="header_notify-info">
                                                <p class="header_notify-name">
                                                    Tặng ngay 1 lon khi mua 3 lon
                                                </p>
                                                <p class="header_notify-descriotion">
                                                    Khuyến Mãi Siêu Hot
                                                </p>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                                <div class="header_notify-list">
                                    <div class="header_notify-item">
                                        <a href="" class="header_notify-link">
                                            <span>
                                                <img src="/img/ensure.webp" alt="" class="header_notify-img">
                                            </span>
                                            <div class="header_notify-info">
                                                <p class="header_notify-name">
                                                    Tặng ngay 1 lon khi mua 3 lon
                                                </p>
                                                <p class="header_notify-descriotion">
                                                    Khuyến Mãi Siêu Hot
                                                </p>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                         
                                <footer class="header_notify-footer">
                                    <a class="header_notify-footer-btn">
                                        Xem Tất Cả
                                    </a>
                                </footer>
                            </div>
                        </li>
                        <li class="header_nav-item">
                            <a href="" class="header_nav-item-list">
                            <a href="" class="header_nav-icon"></a>
                                <i class="header_nav-icon-link ti-help-alt"></i>
                            Trợ Giúp</a>
                        </li>
                        <span class="admin  header_nav-item">
                            <i class="fa-solid fa-user"></i>
                            <%= userName%> 
                            <ul class="menu-list">
                               <button class="Customers" > <a href="/">Đăng Xuất</a>
                               </button> 
                            </ul>
                        </span>
                    </ul>
                </nav>

                <div class="header-withs-search" >
                    <a href="/login-homeUser" class="header__logo" style="text-decoration: none;">
                      Bibo Mart 
                    </a>
                    <div class="header__search">
                        <div class="header__search-input-warp">
                            <input type="text" class="header__search-input" placeholder="Nhập Để Tìm Kiếm Sản Phẩm">
                            <div class="header__search-history">
                                <h3 class="header__search-history-heading">
                                    Lịch Sử Tìm Kiếm
                                </h3>
                                <ul class="header__search-history-list">
                                    <li class="header__search-history-item">
                                        <a href="">Sữa Ông Thọ</a>
                                    </li>
                                    <li class="header__search-history-item">
                                        <a href="">Sữa Ensure</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="header__search-selection">
                            <!-- <span class="header__search-selection-lable">Trong Shop</span>
                            <i class="header__search-selection-icon fa-solid fa-chevron-down"></i> -->

                            <ul class="header__search-option">
                                <li class="header__search-option-item">
                                    <span class="header__search-option-btn">Trong Shop </span>
                                    <i class="header__search-option-icon fa-solid fa-check"></i>
                                </li>
                                <li class="header__search-option-item">
                                    <span class="header__search-option-btn">Ngoài Shop </span>
                                    <i class="header__search-option-icon fa-solid fa-check"></i>
                                </li>
                            </ul>
                            
                        </div>
                        <button class="header__search-btn">
                            <i class="header__search-btn-icon fa-solid fa-magnifying-glass"></i>
                        </button>
                    </div>
                    <!-- <form action="/cart-item" method="GET"> -->
                        <a href="/getvaluesProduct" class="header__Cart">
                            <div class="header__Cart-wrap">
                                        <span class="number-cart" id="cart-count">0</span>
                                        <i class="header__Cart-icon fas fa-cart-shopping"></i>
                                    </div>
                        </a>
                    <!-- </form> -->
                </div>
            </div>
            <div class="Notification-cart">
                Bạn Đã Thêm Mặt Hàng này vào giỏ hàng !!!
            </div>
            
        </header>
    <div class="full" >
        <div class="slider">
            <div class="slider-img-1">
                <img src="img/img1.png" alt="">
            </div>
            <div class="slider-img-2">
                <img src="img/img2.png" alt="">
            </div>
            <div class="slider-img-3">
                <img src="img/img3.png" alt="">
            </div>
        </div>
        <div class="constainer real">
            <!-- <ul class="menu-quanli">
                <li class="menu-header">
                    <a href=""> <i class="fa-solid fa-bars menu-icon"></i>MENU</a>
                </li>
                <ul class="menu-list">
                    <li class="menu-name"><a href="" class="list-name">Danh Sách Khách Hàng</a></li>
                    <li class="menu-name"><a href="">Danh Sách Các Mặt Hàng Sữa</a></li>
                </ul>
            </ul> -->
            <!-- <div class="clear"></div> -->
                <!-- <div class="clear"></div> -->
            <div class="grid constainer-grid">
              <div class="grid__row">
                 
                    <div class="grid__column-100">
                        <div class="constainer_Product">
                            <div class="constainer_filter-header">
                                <div class="constainer_filter-header-list">
                                    <span class="constainer_filter-label">
                                        Sắp Xếp Theo
                                    </span>
                                    <button class="constainer_filter-btn">
                                        Phổ Biến
                                    </button>
                                    <button class="constainer_filter-btn">
                                        Mới Nhất
                                    </button>
                                    <button class="constainer_filter-btn">
                                        Sữa Mua Nhiều Nhất
                                    </button>
                                    <!-- <div class="constainer_filter-price">
                                        Gói Nạp
                                        <i class="fa-solid fa-chevron-down"></i>
                                        <div class="filter-price-list">
                                            <div class="filter-price-btn">Nạp Gói: Gói Chơi Theo Tháng</div>
                                            <div class="filter-price-btn">Nạp Gói: Gói Chơi Theo Năm</div>
                                        </div>
                                    </div> -->
                                </div>
                              
                            </div>
                        
                            <div class="constainer_Product-list-item">
                               
                                 <div class="grid__row menu default-menu">
                                    <% listAdmins.forEach(function(Admin,index) { %>
                                    <div class="grid__column-2-10">
                                        <div class="home__Product-item">
                                            <!-- <form action="/update/<%= Admin.tensua %>" method="POST"> -->
                                            <div class="home__Product-item-img" style="background-image: url('<%= Admin.img %>')"></div>
                                                <h4 class="home__Product-item-name"><%= Admin.tensua %>
                                                </h4>
                                                <div class="home__Product-item-sale">

                                                    <!-- <h5 class="home__Product-item-money"><%= Admin.giatien %>
                                                    </h5> -->
                                                    <h5 class="home__Product-item-money-1"><%= Admin.giatien %>
                                                    </h5>
                                                </div>
                                                <!-- <div class="home__Product-item-Information">
                                                    <h5 class="home__Product-item-information-name">570.000VND </h5>
                                                    <h5 class="home__Product-item-information-name">Sữa Bột</h5>
                                                    <h5 class="home__Product-item-information-name"> 370 gr</h5>
                                                </div> -->
                                               
                                                <div class="home__Product-item-origin">
                                                <button class="playgame buy-now">Mua Ngay</button>
                                                <button class="playgame information" data-modal="myModal <%= index %>">Thông Tin </button>
                                                <button  class="playgame btn-cart shopping-cart"><i class="fa-solid fa-cart-shopping"></i></button>
                                                <!-- <button onclick="ok(this)"></button> -->
                                            </div>
                                            <div class="home__Product-item-favourite">
                                                    <i class="fa-solid fa-check"></i>
                                                <span>Yêu Thích</span>
                                                </div>
                                                <div class="home__Product-item-sale-off">
                                                    <span class="home__Product-item-sale-off-precent">
                                                        10%
                                                    </span>
                                                    <span class="home__Product-item-sale-off-lable">
                                                        GIẢM
                                                    </span>
                                                </div>
                                            <!-- </form> -->
                                          
                                        </div>
                                    </div>
                                    <% }); %>
                                 
                                </div>
                             
                            </div>
                            
                        </div>
                    </div>
              </div>
              
            </div>
        </div>
        <footer class="footer">
            <div class="party__wall">
            </div>
            <div class="grid">

            
            <div class="footer_Information grid__column-100">
                <div class="grid__column-2-8">
                        <div class="footer_content">
                            <div class="content-heading">Chăm Sóc Khách Hàng</div>
                            <li class="content-list-name"><a href="" class="content-list-link">Trợ Giúp Khách Hàng</a></li>
                            <li class="content-list-name"><a href="" class="content-list-link">Hướng Dẫn Mua Hàng</a></li>
                        </div>     
                </div>
                <div class="grid__column-2-8">
                    <div class="footer_content">
                        <div class="content-heading">Giới Thiệu</div>
                        <li class="content-list-name"><a href="" class="content-list-link">Giới Thiệu</a></li>
                        <li class="content-list-name"><a href="" class="content-list-link">Tuyển Dụng</a></li>
                        <li class="content-list-name"><a href="" class="content-list-link">Điều Khoản</a></li>
                    </div>     
                </div>
                <div class="grid__column-2-8">
                    <div class="footer_content">
                        <div class="content-heading">Theo Dõi Chúng Tôi</div>
                        <li class="content-list-name"><a href="" class="content-list-link "> 
                            <i class=" fa-brands fa-facebook footer-logo-social-network"></i>
                            FaceBook</a></li>
                        <li class="content-list-name"><a href="" class="content-list-link ">
                            <i class=" fa-brands fa-instagram footer-logo-social-network"></i>
                            Instagram</a></li>
                        <li class="content-list-name"><a href="" class="content-list-link">
                            <i class=" fa-brands fa-linkedin footer-logo-social-network"></i>
                            Linkedin</a></li>
                    </div>     
                </div>
                <div class="grid__column-2-8">
                    <div class="footer_content">
                        <div class="content-heading">Các Mặt Hàng Sữa</div>
                        <li class="content-list-name"><a href="" class="content-list-link">Sữa Bọt</a></li>
                        <li class="content-list-name"><a href="" class="content-list-link">Sữa Tươi</a></li>
                        <li class="content-list-name"><a href="" class="content-list-link">Sữa Động Vật</a></li>
                        <li class="content-list-name"><a href="" class="content-list-link">Sữa Béo</a></li>
                    </div>     
                </div>
                <!-- <div class="grid__column-2-10">
                    <div class="footer_nav-item footer_nav-item-hasQR footer_nav-item-separate">
                        <div class="content-heading">
                          
                        </div> 
                        <div class="footer_nav-QR">
                           <img src="/img/img/QR_code.png" alt="QR_code" class="footer_nav-img" >
                           <div class="footer_nav-QR-apps">
                            <a href="" class="footer_nav-QR-link">
                                <img src="/img/img/GooglePlay.png "lt="Google Play" class="footer_nav-QR-dow-img">
                            </a>
                            <a href="" class="footer_nav-QR-link"> 
                                <img src="/img/img/Appstore.png" alt="App Store" class="footer_nav-QR-dow-img">
                            </a>
                           </div>
                        </div>
                    </div>
                </div> -->
            </div>
        </div>
        <div class="grid__row">
            <p class="footer-text">
                © 2020 Bản quyền thuộc về cá nhân Nguyễn Công Anh - Website được tạo ra vì mục đích học tập, không vì mục đích thương mại
            </p>
        </div>
        </footer>
    </div>
     <div class="list-cart" style="display: none;">
        <div class="container">
            <div class="main">
                <div class="header-bar">
                    <h2 class="headding">Giỏ hàng </h2>
                </div>
                <table border="1" class="shopping-cart">
                    <tr class="row-title">
                        <th>Tên Sản Phẩm</th>
                        <th>Giá</th>
                        <th>Loại Sữa</th>
                        <th>Trọng Lượng</th>
                        <th>Số Lượng</th>
                        <th>Thành Tiền</th>
                    </tr>
                    <% listAdmins.forEach(function(Admin,index) { %>
                    <tr class="row">
                        <td><%= Admin.tensua %></td>
                        <td><%= Admin.giatien%></td>
                        <td><%= Admin.loaisua %></td>
                        <td><%= Admin.trongluong %></td>
                        <td><%= Admin.clickCount%></td>
                        <td></td>
                    </tr>
                    <% }); %>
                    
                    <tr>
                        <th colspan="5">TỔNG TIỀN</th>
                        <th class="row"><span id="grandTotal">0 đ</span></th>
                    </tr>
                
                </table>
            </div>
        </div>
     </div>
    </div>
    <% listAdmins.forEach(function(Admin,index) { %>
    <div class="modal" id="myModal <%= index %>">
        
            <!-- <form action="/update-users/<%= listAdmins.tensua %>" method="POST"> -->
        <div class="modal-ticker js-modal-ticker modal-content modal-infomation">
            <!-- <div class="modal-header-container"id="closeModal">
                <i class=" modal-ticker-header ti-close"></i>
                <i class="fa-solid fa-xmark  modal-ticker-header"></i>
            </div> -->
            <div class="modal-container">
                <header class="modal-header"> 
                    <i class="fa-regular fa-message"></i>
                    Thông tin Sữa </header>
                </div>
                    
                    <div class="modal-body-container">
                        <label for ="quatity" class="modal-body-header d-none"> 
                            <i class="ti-user"></i>
                            Id
                        </label> 
                        <input name="id" id="id"type="text" class="modal-input d-none" value="<%= Admin.id %>">
                        <label for ="quatity" class="modal-body-header"> 
                            <i class="ti-user"></i>
                            Tên Sữa
                        </label>
                        <input name="tensua" id="name"type="text" class="modal-input" disabled value="<%= Admin.tensua %>" >
                        
                        <label for="email"class="modal-body-header"> 
                            <i class="ti-money"></i>
                            Giá Tiền 
                        </label>
                        <input name="giatien" id="price"type="text" class="modal-input" disabled value="<%= Admin.giatien %>">
                        <label for="email"class="modal-body-header"> 
                            <i class="ti-paint-bucket"></i>
                            Loại Sữa
                        </label>
                        <input name="loaisua" id="type-milk"type="text" class="modal-input" disabled value="<%= Admin.loaisua %>">
                        <label for="email"class="modal-body-header"> 
                            <i class="ti-server"></i>
                            Trọng Lượng
                        </label>
                        <input name="trongluong" id="weight"type="text" class="modal-input" disabled value="<%= Admin.trongluong %>">
                    </div>

                    <!-- <div class="modal-container">
                        <div class="modal-container-full">
                           
                            <button class="modal-buy"> 
                                Sửa <i class="ti-check"></i></button> 
                               
 
                                    <span onclick="confirmDelete('<%= listAdmins.tensua %>')" class="modal-buy"> 
                                        Xóa <i class="ti-close"></i></span> 
                                    
                              
                        </div>
                    </div> -->
                </div>
            <!-- </form>  -->
            
        </div>
     <% }); %>


   
<script>
    // Function to show the modal
    function showModal(modalId) {
      const modal = document.getElementById(modalId);
      modal.style.display = "block";
    }
  
    // Function to hide the modal
    function hideModal(modalId) {
      const modal = document.getElementById(modalId);
      modal.style.display = "none";
    }
  
    // Add event listeners to all buttons with the class "information"
    const informationButtons = document.querySelectorAll(".information");
    informationButtons.forEach((button) => {
      button.addEventListener("click", function () {
        const modalId = this.getAttribute("data-modal");
        showModal(modalId);
      });
    });
  
    // Event listener to close the modal when clicking outside of it
    document.addEventListener("click", function (event) {
      if (event.target.classList.contains("modal")) {
        hideModal(event.target.id);
      }
    });




    //
    // slider anh
    
document.addEventListener("DOMContentLoaded", function () {
    const sliderImages = document.querySelectorAll(".slider > div");
    let currentIndex = 0;
    const intervalTime = 3000; // Thời gian hiển thị mỗi hình ảnh (3 giây).
    let sliderInterval;

    function showImage(index) {
        sliderImages[currentIndex].style.display = "none";
        sliderImages[index].style.display = "block";
        currentIndex = index;
    }

    function nextImage() {
        const nextIndex = (currentIndex + 1) % sliderImages.length;
        showImage(nextIndex);
    }

    function startSlider() {
        sliderInterval = setInterval(nextImage, intervalTime);
    }

    function stopSlider() {
        clearInterval(sliderInterval);
    }
    startSlider(); })


 
// });
// Trong mã JavaScript này, chúng ta đã thêm một số lượng đếm clickCount để theo dõi số lần bạn click vào nút. Mỗi lần bạn click, giá trị clickCount tăng lên 1 và sau đó, chúng ta cập nhật số trong giỏ hàng (thẻ <span id="cart-count">) với giá trị của clickCount.



    // document.addEventListener("DOMContentLoaded", function() {
// Lấy thẻ <span> hiển thị số trong giỏ hàng bằng ID
    const cartCountSpan = document.getElementById('cart-count');

// Lấy tất cả các nút có class "btn-cart"
    const cartItems = [];
let clickCount = 0;
const cartButtons = document.querySelectorAll('.btn-cart');
// console.log(cartButtons)
// const grandTotalElement = document.getElementById('grandTotal');
// Lặp qua từng nút và thêm sự kiện click
cartButtons.forEach((button) => {
    button.addEventListener('click', function() {
        
        clickCount++
        // Tăng số lần click lên 1
     
        // })
   
   
    // console.log(product.id)
    // cartItems.push(product);
    // console.log(cartItems)
    cartCountSpan.textContent = cartItems.length.toString();
    cartCountSpan.textContent = clickCount.toString();
    // Hiển thị thông báo
    const notification = document.querySelector('.Notification-cart');
    notification.style.display = 'block';

    // Tắt thông báo sau 3 giây
    setTimeout(() => {
      notification.style.display = 'none';
    }, 3000);
  });
});
// const cart = document.querySelectorAll('.btn-cart');
// cart.forEach(but=>{

//     // a.forEach(b=>{
//         but.addEventListener('click',function(){
//             const getAttri = but.parentElement.parentElement
//             console.log(getAttri)
//             const a= getAttri.querySelector('.information')
//             console.log(a)
//              const IDInput = document.querySelector('#id').value;
//         const tensuaInput = document.querySelector('#name').value;
//         const giatienInput = document.querySelector('#price').value;
//         const loaisuaInput = document.querySelector('#type-milk').value;
//         const trongluongInput = document.querySelector('#weight').value;

//             console.log(`ID: ${IDInput}, Tên Sữa: ${tensuaInput}, Giá Tiền: ${giatienInput}, Loại Sữa: ${loaisuaInput}, Trọng Lượng: ${trongluongInput}`);
        
//                 })
// })

// const cart = document.querySelectorAll('.btn-cart');
// cart.forEach(but => {
//     but.addEventListener('click', function () {
//         const getAttri = but.parentElement.parentElement;
//         console.log(getAttri);
//         const a = getAttri.querySelector('.information');
//         console.log(a);

//         // Kiểm tra và lấy giá trị từ các phần tử con của a
//         const idElement = getAttri.querySelectorAll('#id');

//         const nameElement = getAttri.querySelectorAll('#name');
//         const priceElement = getAttri.querySelectorAll('#price');
//         const typeMilkElement = getAttri.querySelectorAll('#type-milk');
//         const weightElement = getAttri.querySelectorAll('#weight');

//         // Kiểm tra xem phần tử con có tồn tại không
//         if (idElement && nameElement && priceElement && typeMilkElement && weightElement) {
//             const IDInput = idElement.value;
//             const tensuaInput = nameElement.value;
//             const giatienInput = priceElement.value;
//             const loaisuaInput = typeMilkElement.value;
//             const trongluongInput = weightElement.value;

//             console.log(`ID: ${IDInput}, Tên Sữa: ${tensuaInput}, Giá Tiền: ${giatienInput}, Loại Sữa: ${loaisuaInput}, Trọng Lượng: ${trongluongInput}`);
//         } else {
//             console.log('Không tìm thấy phần tử con');
//         }
//     });
// });


// Hàm helper để lấy giá trị văn bản của phần tử con bên trong một phần tử cha
function getElementText(parent, selector) {
    const element = parent.querySelector(selector);
    console.log(`Element ${selector}:`, element); // In element ra console để kiểm tra

    // Kiểm tra tồn tại của phần tử con trước khi lấy giá trị
    return element ? element.textContent : '';
}




    //ẩn hiện cart 
    document.addEventListener('DOMContentLoaded', function() {
    var cartButton = document.querySelector('.header__Cart');
    var fullContent = document.querySelector('.full');
    var cartContent = document.querySelector('.list-cart');

    cartButton.addEventListener('click', function() {
        if (fullContent.style.display === 'block') {
            fullContent.style.display = 'none';
            cartContent.style.display = 'block';
        } else {
            fullContent.style.display = 'block';
            cartContent.style.display = 'none';
        }
    });
});




  </script>
      
       
      
      
      
</body>
</html>
